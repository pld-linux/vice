--- vice-1.12/configure.in.orig	2003-06-09 00:06:31.000000000 +0200
+++ vice-1.12/configure.in	2003-07-20 22:20:49.000000000 +0200
@@ -257,119 +257,10 @@
 dnl Add new languages here
 ALL_LINGUAS="de fr it sv pl"
 
-dnl These rules are solely for the distribution goal.  While doing this
-dnl we only have to keep exactly one list of the available catalogs
-dnl in configure.in.
-for lang in $ALL_LINGUAS; do
-  GMOFILES="$GMOFILES $lang.gmo"
-  POFILES="$POFILES $lang.po"
-done
-AC_SUBST(GMOFILES)
-AC_SUBST(POFILES)
-
-if test x"$enable_nls" != x"no" ; then
-  AC_CHECK_HEADER(libintl.h,
-    [AC_CACHE_CHECK([for gettext in libc], gt_cv_func_gettext_libc,
-      [AC_TRY_LINK([#include <libintl.h>], [return (int) gettext ("")],
-  	 gt_cv_func_gettext_libc=yes, gt_cv_func_gettext_libc=no)])
-     if test "$gt_cv_func_gettext_libc" = "yes" \
-  	|| test "$gt_cv_func_gettext_libintl" = "yes"; then
-  	AC_DEFINE(HAVE_GETTEXT,,[Define if gettext if available.])
-  	AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,
-  	  [test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"], no)dnl
-  	if test "$MSGFMT" != "no"; then
-  	  AC_CHECK_FUNCS(dcgettext)
-  	  AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)
-  	  AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
-  	    [test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"], :)
-  	  AC_TRY_LINK(, [extern int _nl_msg_cat_cntr;
-  			 return _nl_msg_cat_cntr],
-  	    [CATOBJEXT=.gmo
-  	     DATADIRNAME=share],
-  	    [CATOBJEXT=.mo
-  	     DATADIRNAME=lib])
-  	  INSTOBJEXT=.mo
-  	fi
-        USE_NLS=yes
-	AC_DEFINE(ENABLE_NLS,,[Define if NLS support is enabled.])
-	AC_DEFINE(HAVE_LIBINTL_H,,[use libintl for NLS.])
-	AC_DEFINE_UNQUOTED(DATADIRNAME, "$DATADIRNAME",[NLS datadirname.])
-	dnl this is prefixed with PREFIX
-	AC_DEFINE(NLS_LOCALEDIR, PREFIX"/"DATADIRNAME"/locale",[NLS local directory.])
-      else
-        AC_MSG_WARN([libintl.h not found, disabling NLS])
-        USE_NLS=no
-      fi
-  ])
-  dnl Test whether we really found GNU xgettext.
-  if test "$XGETTEXT" != ":"; then
-    dnl If it is no GNU xgettext we define it as : so that the
-    dnl Makefiles still can work.
-    if $XGETTEXT --omit-header /dev/null 2> /dev/null; then
-      : ;
-    else
-      AC_MSG_RESULT(
-    	[found xgettext program is not GNU xgettext; ignore it])
-      XGETTEXT=":"
-    fi
-  fi
-
-  dnl Test wether GMSGFMT is there. Should fix `make dist'.
-  if test "$GMSGFMT" = "" ; then
-    GMSGFMT=":"
-  fi
-
-  # We need to process the po/ directory.
-  POSUB=po
-  
-  AC_OUTPUT_COMMANDS(
-    [case "$CONFIG_FILES" in *po/Makefile.in*)
-      sed -e "/POTFILES =/r po/POTFILES" po/Makefile.in > po/Makefile
-    esac])
-  
-  dnl Make all variables we use known to autoconf.
-  AC_SUBST(USE_INCLUDED_LIBINTL)
-  AC_SUBST(CATALOGS)
-  AC_SUBST(DATADIRNAME)
-  AC_SUBST(INSTOBJEXT)
-  AC_SUBST(INTLDEPS)
-  AC_SUBST(INTLLIBS)
-  AC_SUBST(INTLOBJS)
-  AC_SUBST(POSUB)
-  AC_SUBST(GENCAT)
-
-  dnl If the AC_CONFIG_AUX_DIR macro for autoconf is used we possibly
-  dnl find the mkinstalldirs script in another subdir but ($top_srcdir).
-  dnl Try to locate is.
-  MKINSTALLDIRS=
-  if test -n "$ac_aux_dir"; then
-    MKINSTALLDIRS="$ac_aux_dir/mkinstalldirs"
-  fi
-  if test -z "$MKINSTALLDIRS"; then
-    MKINSTALLDIRS="\$(top_srcdir)/mkinstalldirs"
-  fi
-  AC_SUBST(MKINSTALLDIRS)
-
-  dnl currently no catgets support, can't check it.
-  GENCAT=
-  AC_SUBST(GENCAT)
-else
-  AC_MSG_WARN([disabling NLS on user request])
-  USE_NLS=no
-fi
-
-if test x"$USE_NLS" = x"" ; then
-  USE_NLS=no
-fi
-if test "$MSGFMT" = "no" ; then
-  dnl Fallback to shipped .gmo 
-  dnl Those should work on x86 linux systems.
-  AC_MSG_WARN([msgfmt not found, falling back to default catalogs (x86/Linux)])
-  CATOBJEXT=".gmo"
-fi
-AC_SUBST(CATOBJEXT)
-AC_SUBST(USE_NLS)
-AC_SUBST(NLS_LOCALEDIR)
+AM_GNU_GETTEXT
+AC_CHECK_HEADERS(libintl.h)
+AC_DEFINE_UNQUOTED(DATADIRNAME, "$DATADIRNAME",[NLS datadirname.])
+AC_DEFINE(NLS_LOCALEDIR, PREFIX"/"DATADIRNAME"/locale",[NLS local directory.])
 
 dnl Check for a perl interpreter.
 AC_PATH_PROG(PERL, perl)
